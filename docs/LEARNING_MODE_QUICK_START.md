# 学習モード クイックスタートガイド

## 概要

学習モードの動作確認と使用方法を説明します。画像がなくても、プレースホルダーで動作確認が可能です。

## 学習フロー

### 1. 学習モードの開始

1. アプリを起動
2. ホーム画面から「学習モード」をタップ
3. 例文が表示されます

### 2. 学習の流れ

```
┌─────────────────────────────────┐
│  1. 画像が表示される              │
│     （プレースホルダーも可）      │
├─────────────────────────────────┤
│  2. 英語例文が表示される          │
│     （3秒待機）                   │
├─────────────────────────────────┤
│  3. ヒントが自動表示される        │
│     - 2秒後: 最初の1文字          │
│     - 6秒後: 最初の3単語          │
│     - 10秒後: 重要単語            │
├─────────────────────────────────┤
│  4. ユーザーアクション            │
│     - 「日本語を表示」: 答え確認  │
│     - 「覚えた！」: マスター済み  │
│     - 「次へ」: 次の例文へ        │
└─────────────────────────────────┘
```

## 機能説明

### 画像表示

- **実画像**: Group名（例: `S-001`）から自動生成されたURLで画像を表示
- **プレースホルダー**: 画像が存在しない場合、おしゃれなプレースホルダーを表示
  - グラデーション背景（青→紫→ピンク）
  - Group名を表示（例: `Group: S-001`）
  - 「画像をアップロード中...」メッセージ

### ヒントシステム

#### 段階的ヒント表示

1. **初期ヒント（2秒後）**
   - 最初の1文字を表示
   - 例: `I...`

2. **拡張ヒント（6秒後）**
   - 最初の3単語を表示
   - 例: `I like your...`

3. **重要単語ヒント（10秒後）**
   - 重要単語をハイライト表示
   - 例: `bag`, `London`

#### 視覚的フィードバック

- **画面の光る効果**: ヒントが表示されると、画面が微かに光ります
- **フェードインアニメーション**: ヒントがスムーズに表示されます
- **バイブレーション**: 設定で有効な場合、軽いバイブレーションが発生します

### ボタン操作

#### 「日本語を表示」ボタン

- 英語例文の日本語訳を表示
- タイマーが停止します
- ヒントは非表示になります

#### 「覚えた！」ボタン

- 例文をマスター済みとして記録
- 進捗が更新されます
- 次の例文に進みます
- 成功のバイブレーションが発生します

#### 「次へ」ボタン

- 次の例文に進みます
- ヒント使用ログが保存されます
- タイマーがリセットされます

#### 「終了」ボタン（AppBar左上）

- 学習を途中で終了できます
- 確認ダイアログが表示されます
- 進捗は保存されます

## 画面構成

### 画像エリア

- **画像**: 16:9の比率で表示
- **カテゴリタグ**: 左上に表示（例: `#Adventure`）
- **難易度バッジ**: 右上に星で表示（1-5段階）

### シーン設定エリア

- 画像の下に表示
- 例文のシーン設定を表示
- 例: 「夕方のオフィス...」

### 例文エリア

- **英語例文**: 中央に大きく表示
- **ヒント**: 英語例文の下に表示
- **日本語訳**: 「日本語を表示」をタップすると表示

### ボタンエリア（画面下部固定）

- **次へ**: 左側、白いボタン
- **覚えた！**: 右側、緑のボタン（大きく表示）

## 動作確認手順

### ステップ1: アプリを起動

```bash
flutter run
```

### ステップ2: 学習モードを開く

1. ホーム画面から「学習モード」をタップ
2. 例文が表示されることを確認

### ステップ3: 画像表示を確認

- **画像がある場合**: 実際の画像が表示される
- **画像がない場合**: プレースホルダーが表示される
  - Group名が表示されることを確認
  - グラデーション背景が表示されることを確認

### ステップ4: ヒント表示を確認

1. 英語例文が表示されたら、何も操作せずに待機
2. 2秒後: 最初の1文字が表示されることを確認
3. 6秒後: 最初の3単語が表示されることを確認
4. 10秒後: 重要単語が表示されることを確認
5. 画面が微かに光ることを確認（視覚的フィードバック）

### ステップ5: ボタン操作を確認

1. **「日本語を表示」をタップ**
   - 日本語訳が表示されることを確認
   - タイマーが停止することを確認

2. **「覚えた！」をタップ**
   - 次の例文に進むことを確認
   - 進捗が更新されることを確認

3. **「次へ」をタップ**
   - 次の例文に進むことを確認
   - タイマーがリセットされることを確認

4. **「終了」ボタンをタップ**
   - 確認ダイアログが表示されることを確認
   - 終了できることを確認

## 画像なしでの動作確認

画像がなくても、以下の機能で動作確認が可能です：

1. **プレースホルダー表示**: 画像の代わりにプレースホルダーが表示されます
2. **ヒントシステム**: タイマーベースで動作するため、画像は不要です
3. **ボタン操作**: すべてのボタンが正常に動作します
4. **アニメーション**: 視覚的フィードバックが動作します

## トラブルシューティング

### ヒントが表示されない

- **確認事項**:
  - ヒント設定で有効になっているか確認
  - タイマーが正常に動作しているか確認
  - コンソールにエラーがないか確認

### 画像が表示されない

- **確認事項**:
  - Group名が設定されているか確認
  - Supabase Storageに画像がアップロードされているか確認
  - ネットワーク接続を確認

### ボタンが表示されない

- **確認事項**:
  - 画面をスクロールしてボタンエリアを確認
  - 画面サイズが適切か確認

## 次のステップ

1. **画像のアップロード**: `docs/IMAGE_UPLOAD_GUIDE.md`を参照
2. **ヒント設定のカスタマイズ**: 設定画面から調整可能
3. **進捗の確認**: 進捗画面で学習状況を確認

## 参考ドキュメント

- `docs/LEARNING_MODE_DESIGN.md`: 詳細な設計ドキュメント
- `docs/UI_UX_DESIGN.md`: UI/UX設計ガイドライン
- `docs/IMAGE_UPLOAD_GUIDE.md`: 画像アップロード手順
